name: first-pipeline
application: crossplanedemo
serviceAccount: keeldemo-service-account
artifacts:
- name: nabuskey/led-demo
  type: docker
  reference: my-docker-artifact
  tagVersionStrategy: increasing-tag
environments:
  - name: dev
    locations:
      account: deploy-steven
      regions: []
    resources:
    - kind: k8s/resource@v1
      spec:
        metadata:
         application: crossplane-test
        template:
          apiVersion: v1
          kind: Service
          metadata:
            name: crossplane-test
            namespace: default
          spec:
            ports:
            - port: 8080
              protocol: TCP
              targetPort: 4000
            type: ClusterIP
            selector:
             app: crossplane-test
    - kind: k8s/resource@v1
      spec:
        metadata:
          application: crossplane-test
        template:
          apiVersion: s3.aws.crossplane.io/v1beta1
          kind: Bucket
          metadata:
            name: borrelli-argocd-test-bucket
            namespace: default
          spec:
            deletionPolicy: Delete
            forProvider:
              acl: private
              locationConstraint: us-west-2
              accelerateConfiguration:
                status: Enabled
              versioningConfiguration:
                status: Enabled
              tagging:
                tagSet:
                  - key: owner
                    value: borrelli-spinnaker-demo
  - name: prod
    locations:
      account: deploy-steven
      regions: []
    resources:
    - kind: k8s/resource@v1
      spec:
        metadata: 
          application: crossplane-test
        template:
          apiversion: v1
          kind: ConfigMap
          metadata:
            name: keel-cm
            namespace: default
          data:
            player_initial_lives: "31"
            ui_properties_file_name: "user-interface.properties"
